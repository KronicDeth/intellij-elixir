# =============================================================================
# Build Configuration Properties
# Purpose: Defines project constants, platform targets, and JVM settings.
# =============================================================================

# --- Plugin Metadata ---
pluginGroup=org.elixir_lang
pluginName=Elixir
pluginVersion=22.0.0
pluginRepositoryUrl=https://github.com/KronicDeth/intellij-elixir/
vendorName=Elle Imhoff
vendorEmail=Kronic.Deth@gmail.com
pluginSinceBuild=253.28294.334
publishChannels=canary

# Set to True to skip building searchable options, if developing this drastically speeds up build times.
# See https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin-faq.html#how-to-disable-building-searchable-options
skipSearchableOptions=True

# --- Platform Targets ---
platformType=IU
platformVersion=2025.3
# Enable this to pull in the latest EAP version.
useDynamicEapVersion=false

# --- IDE Run Configuration Versions ---
# Controls which run configuration tasks (e.g. runRubyMine) are generated
runIdePlatforms=IntellijIdeaCommunity,IntellijIdeaUltimate,RubyMine,PyCharmCommunity,PyCharmProfessional,WebStorm
enableEAPIDEs=true

# Stable Versions (2025.3)
platformVersionIntellijIdeaCommunity=2025.3
platformVersionIntellijIdeaUltimate=2025.3
platformVersionRubyMine=2025.3
platformVersionPyCharmCommunity=2025.3
platformVersionPyCharmProfessional=2025.3
platformVersionWebStorm=2025.3

# EAP Versions
platformVersionIntellijIdeaCommunityEAP=253-EAP-SNAPSHOT
platformVersionIntellijIdeaUltimateEAP=253-EAP-SNAPSHOT
platformVersionRubyMineEAP=253-EAP-SNAPSHOT
platformVersionPyCharmCommunityEAP=253-EAP-SNAPSHOT
platformVersionPyCharmProfessionalEAP=253-EAP-SNAPSHOT
platformVersionWebStormEAP=253-EAP-SNAPSHOT

# --- Plugin Verification ---
# Comma-separated list of IDE types to verify against
pluginVerifierIdeTypes=IntellijIdeaUltimate,PyCharmProfessional,RubyMine,WebStorm
pluginVerifierVersion=2025.3
pluginVerifierChannels=RELEASE,EAP,RC,PREVIEW

# --- Tooling Versions ---
elixirVersion=1.13.4
quoterVersion=2.1.0

# Plugins which will run ONLY when running `runIde` tasks, not for testing/release.
#
# Usage:
# When using `./gradlew runIde`, pass the Gradle Property:
# -PrunIdeCompatiblePlugins="PsiViewer,com.google.ide-perf,org.jetbrains.action-tracker,com.intellij.classic.ui,krasa.CpuUsageIndicator,IdeaVIM"
#
# Recommendations:
# https://plugins.jetbrains.com/plugin/24468-classic-ui - Classic UI (old UI)
# https://plugins.jetbrains.com/plugin/7641-action-tracker - Action Tracker (Allows to record actions performed by user in IntelliJ IDEs)
# https://plugins.jetbrains.com/plugin/15104-ide-perf - IDE Performance
# https://plugins.jetbrains.com/plugin/227-psiviewer - PSI Viewer (A Program Structure Interface (PSI) tree viewer)
# IdeaVIM
runIdeCompatiblePlugins=

# Note: intelliLang changed to a module (intellij.platform.langInjection) in 2025.3+
platformBundledPlugins=org.intellij.plugins.markdown,com.intellij.java
platformBundledModules=intellij.platform.langInjection

# --- Gradle Performance & Memory ---
org.gradle.jvmargs=-Xmx4096m
kotlin.daemon.jvmargs=-Xmx4906m

# @todo Once this has been tested to be stable with the intellij-elixir codebase, enable.
# Others have it on without issues, so I'm not overly worried - just want to confirm stability.
# Can always just turn it off for CI.
# Before this, we need to upgrade download and fix the outputs for the tasks to ensure they cache.
# Gradle Configuration Cache - https://docs.gradle.org/current/userguide/configuration_cache.html
# Gradle Build Cache - https://docs.gradle.org/current/userguide/build_cache.html
# Parallel Gradle Builds - https://docs.gradle.org/current/userguide/performance.html#parallel_execution
org.gradle.configuration-cache=true
org.gradle.caching=true
org.gradle.parallel=true
#org.gradle.daemon=false
